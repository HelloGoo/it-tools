import{d as v,p as P,q as g,e as h,f as o,h as a,w as u,bm as x,g as n,F as K,n as k,o as w,y as C,k as T}from"./index-2e588a01.js";import{l as m}from"./index-54ab1016.js";import{T as c}from"./TextareaCopyable-ef65357f.js";import{a as V}from"./defaults-4d6daddf.js";import{a as A}from"./computedRefreshable-ee8b18d3.js";import{_ as B}from"./FormItem-60cf44aa.js";import{_ as N}from"./InputNumber-3af733bc.js";import"./___vite-browser-external_commonjs-proxy-1436d598.js";import"./Copy-062b8cc7.js";import"./Scrollbar-23aba636.js";import"./use-form-item-6311a236.js";import"./use-locale-02253be4.js";import"./Button-cd011781.js";import"./Remove-f3c3b67b.js";const R="/it-tools/assets/prime.worker.min-e367bd53.js";function E({bits:r=2048}){return new Promise((e,t)=>m.pki.rsa.generateKeyPair({bits:r,workerScript:R},(s,i)=>{if(s){t(s);return}e(i)}))}async function F(r={}){const{privateKey:e,publicKey:t}=await E(r);return{publicKeyPem:m.pki.publicKeyToPem(t),privateKeyPem:m.pki.privateKeyToPem(e)}}const j={style:{flex:"0 0 100%"}},q={"item-style":"flex: 1 1 0",style:{"max-width":"600px"},"mx-auto":"",flex:"","gap-3":""},D=o("h3",null,"公钥",-1),O=o("h3",null,"私钥",-1),$=v({__name:"rsa-key-pair-generator",setup(r){const e=P(2048),t={publicKeyPem:"",privateKeyPem:""},{attrs:s}=g({source:e,rules:[{message:"应是256到16384之间的8的倍数",validator:l=>l>=256&&l<=16384&&l%8===0}]}),[i,_]=A(()=>V(()=>F({bits:e.value}),t),t);return(l,p)=>{const f=N,d=B,y=k;return w(),h(K,null,[o("div",j,[o("div",q,[a(d,x({label:"比特位数:"},n(s),{"label-placement":"left","label-width":"100"}),{default:u(()=>[a(f,{value:n(e),"onUpdate:value":p[0]||(p[0]=b=>C(e)?e.value=b:null),min:"256",max:"16384",step:"8"},null,8,["value"])]),_:1},16),a(y,{onClick:n(_)},{default:u(()=>[T(" 刷新密钥对 ")]),_:1},8,["onClick"])])]),o("div",null,[D,a(c,{value:n(i).publicKeyPem},null,8,["value"])]),o("div",null,[O,a(c,{value:n(i).privateKeyPem},null,8,["value"])])],64)}}});export{$ as default};
